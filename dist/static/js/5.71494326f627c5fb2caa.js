webpackJsonp([5],{"/ugG":function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"commonUpload"},[this.uploadFile?e("div",{staticClass:"fileBox"},[e("img",{attrs:{src:this.uploadFile}})]):this._e()])},staticRenderFns:[]};var n=a("Mz/3")({props:["file","title"],data:function(){return{uploadFile:""}},watch:{file:function(t){this.uploadFile=t}},mounted:function(){this.uploadFile=this.file}},s,!1,function(t){a("H4RY")},"data-v-96efc5b0",null);e.a=n.exports},"A/0u":function(t,e){},H4RY:function(t,e){},vfFP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("TVG1");var s=a("/ugG"),n=a("JIIy"),o=a.n(n),i=a("4Zt/"),r={data:function(){return{loading:!1,registerInfo:this.$store.state.register}},methods:{clearFun:function(t){this.registerInfo.payload[t]="",this.showNext()},showNext:function(){if(this.$store.dispatch("registerPage_saveData_action",{type:"save",data:this.registerInfo.payload}),this.$store.dispatch("registerPage_saveData_action",{type:"changeStatus",data:{step:"step2",value:!0}}),!this.registerInfo.payload.ztmc)return!1;if(!this.registerInfo.payload.phone)return!1;if(!this.registerInfo.payload.bm)return!1;if("fr"==this.$route.query.type){if(!this.registerInfo.payload.fddbr)return!1;if(!this.registerInfo.payload.file1.content)return!1;if(!this.registerInfo.payload.file2.content)return!1;if(!this.registerInfo.payload.file3.content)return!1}else{if(!this.registerInfo.payload.file1.content)return!1;if(!this.registerInfo.payload.file2.content)return!1}this.$store.dispatch("registerPage_saveData_action",{type:"changeStatus",data:{step:"step2",value:!1}})},onRead1:function(t){this.registerInfo.payload.file1=t,this.showNext()},onRead2:function(t){this.registerInfo.payload.file2=t,this.showNext()},onRead3:function(t){this.registerInfo.payload.file3=t,this.showNext()},registerFun:function(){var t=this;this.loading=!0;var e=new FormData;e.append("ztmc",this.registerInfo.payload.ztmc),e.append("sjhm",this.registerInfo.payload.phone),e.append("username",this.registerInfo.payload.phone),e.append("password",o()(this.registerInfo.payload.password)),e.append("bm",this.registerInfo.payload.bm),"fr"==this.$route.query.type?(e.append("type","C"),e.append("fddbr",this.registerInfo.payload.fddbr),e.append("zjwj",this.registerInfo.payload.file1.file),e.append("sfzwjFront",this.registerInfo.payload.file2.file),e.append("sfzwjBack",this.registerInfo.payload.file3.file)):(e.append("type","P"),e.append("sfzwjFront",this.registerInfo.payload.file1.file),e.append("sfzwjBack",this.registerInfo.payload.file2.file)),e.append("dzyx",""),e.append("lxr","");i.a.axiosInstance.post("/credit-data-xypj/xypjUser/regist.json",e,{headers:{"Content-Type":"multipart/form-data"},transformRequest:[function(t){return t}]}).then(function(e){t.loading=!1,t.$router.push({name:"RegisterPage3"})}).catch(function(e){t.loading=!1})}},mounted:function(){this.registerInfo=this.$store.state.register},components:{CommonUpload:s.a}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"step2Page"},[t._m(0),t._v(" "),a("div",{staticClass:"registerArea"},["fr"==t.$route.query.type?a("div",[a("van-field",{attrs:{clearable:"",placeholder:"企业名称"},on:{keyup:t.showNext,clear:function(e){t.clearFun("ztmc")}},model:{value:t.registerInfo.payload.ztmc,callback:function(e){t.$set(t.registerInfo.payload,"ztmc",e)},expression:"registerInfo.payload.ztmc"}}),t._v(" "),a("van-field",{attrs:{clearable:"",placeholder:"统一社会信用代码"},on:{keyup:t.showNext,clear:function(e){t.clearFun("bm")}},model:{value:t.registerInfo.payload.bm,callback:function(e){t.$set(t.registerInfo.payload,"bm",e)},expression:"registerInfo.payload.bm"}}),t._v(" "),a("van-field",{attrs:{clearable:"",placeholder:"法定代表人"},on:{keyup:t.showNext,clear:function(e){t.clearFun("fddbr")}},model:{value:t.registerInfo.payload.fddbr,callback:function(e){t.$set(t.registerInfo.payload,"fddbr",e)},expression:"registerInfo.payload.fddbr"}}),t._v(" "),a("van-panel",{staticClass:"uploadImgField"},[a("template",{attrs:{lang:"html"},slot:"header"},[a("div",{staticClass:"header"},[a("span",[t._v("上传证照")])])]),t._v(" "),a("div",{staticClass:"uploadImgFieldImage"},[a("van-uploader",{attrs:{slot:"button","after-read":t.onRead1},slot:"button"},[a("CommonUpload",{attrs:{file:t.registerInfo.payload.file1.content}}),t._v(" "),a("span",{staticClass:"title"},[t._v("营业执照正面照")])],1),t._v(" "),a("van-uploader",{attrs:{slot:"button","after-read":t.onRead2},slot:"button"},[a("CommonUpload",{attrs:{file:t.registerInfo.payload.file2.content}}),t._v(" "),a("span",{staticClass:"title"},[t._v("法人身份证正面照")])],1),t._v(" "),a("van-uploader",{attrs:{slot:"button","after-read":t.onRead3},slot:"button"},[a("CommonUpload",{attrs:{file:t.registerInfo.payload.file3.content}}),t._v(" "),a("span",{staticClass:"title"},[t._v("法人身份证反面照")])],1)],1)],2)],1):a("div",[a("van-field",{attrs:{clearable:"",placeholder:"姓名"},on:{keyup:t.showNext,clear:function(e){t.clearFun("ztmc")}},model:{value:t.registerInfo.payload.ztmc,callback:function(e){t.$set(t.registerInfo.payload,"ztmc",e)},expression:"registerInfo.payload.ztmc"}}),t._v(" "),a("van-field",{attrs:{clearable:"",placeholder:"身份证号"},on:{keyup:t.showNext,clear:function(e){t.clearFun("bm")}},model:{value:t.registerInfo.payload.bm,callback:function(e){t.$set(t.registerInfo.payload,"bm",e)},expression:"registerInfo.payload.bm"}}),t._v(" "),a("van-panel",{staticClass:"uploadImgField"},[a("template",{attrs:{lang:"html"},slot:"header"},[a("div",{staticClass:"header"},[a("span",[t._v("上传证照")])])]),t._v(" "),a("div",{staticClass:"uploadImgFieldImage"},[a("van-uploader",{attrs:{slot:"button","after-read":t.onRead1},slot:"button"},[a("CommonUpload",{attrs:{file:t.registerInfo.payload.file1.content}}),t._v(" "),a("span",{staticClass:"title"},[t._v("身份证正面照")])],1),t._v(" "),a("van-uploader",{attrs:{slot:"button","after-read":t.onRead2},slot:"button"},[a("CommonUpload",{attrs:{file:t.registerInfo.payload.file2.content}}),t._v(" "),a("span",{staticClass:"title"},[t._v("身份证反面照")])],1)],1)],2)],1)]),t._v(" "),a("div",{staticClass:"registerBtn"},[a("van-button",{staticClass:"van-button--custom",attrs:{round:"",loading:t.loading,disabled:t.registerInfo.step2.disabled,block:!0,size:"normal"},on:{click:t.registerFun}},[t._v("注册")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stepBox"},[a("ul",[a("li",{staticClass:"step"},[a("span",{staticClass:"success"}),a("span",{staticClass:"ico"},[t._v("1")]),t._v("创建用户")]),t._v(" "),a("li",{staticClass:"line"}),t._v(" "),a("li",{staticClass:"step active"},[a("span",{staticClass:"success"}),a("span",{staticClass:"ico"},[t._v("2")]),t._v("实名认证")]),t._v(" "),a("li",{staticClass:"line"}),t._v(" "),a("li",{staticClass:"step"},[a("span",{staticClass:"success"}),a("span",{staticClass:"ico"},[t._v("3")]),t._v("等待验证")])])])}]};var d=a("Mz/3")(r,l,!1,function(t){a("A/0u")},"data-v-0404f292",null);e.default=d.exports}});
//# sourceMappingURL=5.71494326f627c5fb2caa.js.map